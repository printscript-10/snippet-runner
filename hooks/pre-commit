#!/bin/bash

echo '-----------------ğŸš€Launching pre-commit hook-----------------'

./gradlew ktlintFormat
if [ $? -ne 0 ]; then
  echo 'âŒ ktlintFormat failed. Please fix the issues before committing.'
  exit 1
fi

git add -u

./gradlew build --daemon

if [ $? -ne 0 ]; then
  echo 'âŒ Build failed. Please fix the issues before committing.'
  exit 1
fi

echo 'âœ… Build passed! Your code style is on point.'

echo '-----------------ğŸš€Finished pre-commit hook-----------------'

exit 0
